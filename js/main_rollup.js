!function(){"use strict";customElements.define("bb-nav-menu",class extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML=this.html_constructor(),this.querySelector("#home-button").addEventListener("pointerdown",t=>this.home_button_clicked()),this.querySelector("#favorite-button").addEventListener("pointerdown",t=>this.favorite_button_clicked())}home_button_clicked(){location.reload(!0)}favorite_button_clicked(){this.dispatchEvent(new CustomEvent("bb-favorite-button",{detail:{action:"favorite-button-clicked"},bubble:!0,composed:!0}))}html_constructor(){return'<div class="bb-nav-menu-container">\n        <div id="home-button" class="bb-home-button">HOME</div>\n        <div id="favorite-button" class="bb-favorite-button">FAVORITE</div>'}});customElements.define("bb-main-header",class extends HTMLElement{constructor(){super(),document.addEventListener("bb-favorite-button",this.handle_mbox_message.bind(this),!0),this.favorites_display="hidden"}connectedCallback(){this.innerHTML=this.html_constructor(),this.querySelector("#search-bar-input").addEventListener("input",t=>this.input_changed())}handle_mbox_message(){switch(event.detail.action){case"favorite-button-clicked":this.handle_favorite_button_clicked()}}handle_favorite_button_clicked(){"hidden"===this.favorites_display?(this.favorites_display="showing",this.querySelector("#search-bar-input").classList.remove("show-item"),this.querySelector("#search-bar-input").classList.add("hide-item"),this.querySelector("#beer-bank-title").classList.remove("show-item"),this.querySelector("#beer-bank-title").classList.add("hide-item"),this.querySelector("#beer-bank-subtitle").classList.remove("show-item"),this.querySelector("#beer-bank-subtitle").classList.add("hide-item"),this.querySelector("#favorites-list").classList.remove("hide-item"),this.querySelector("#favorites-list").classList.add("show-item"),this.querySelector("#favorites-subtitle").classList.remove("hide-item"),this.querySelector("#favorites-subtitle").classList.add("show-item")):(this.favorites_display="hidden",this.querySelector("#search-bar-input").classList.remove("hide-item"),this.querySelector("#search-bar-input").classList.add("show-item"),this.querySelector("#beer-bank-title").classList.remove("hide-item"),this.querySelector("#beer-bank-title").classList.add("show-item"),this.querySelector("#beer-bank-subtitle").classList.remove("hide-item"),this.querySelector("#beer-bank-subtitle").classList.add("show-item"),this.querySelector("#favorites-list").classList.remove("show-item"),this.querySelector("#favorites-list").classList.add("hide-item"),this.querySelector("#favorites-subtitle").classList.remove("show-item"),this.querySelector("#favorites-subtitle").classList.add("hide-item"))}input_changed(){this.dispatchEvent(new CustomEvent("bb-search-input",{detail:{input_value:this.querySelector("#search-bar-input").value.toString().toLowerCase(),action:"search"},bubble:!0,composed:!0}))}html_constructor(){return'<bb-nav-menu></bb-nav-menu>\n        <div id="beer-bank-title" class="the-beer-bank-title">The Beer Bank</div>\n        <div id="beer-bank-subtitle" class="the-beer-bank-subtitle">Find your favorite beer here</div>\n        <input type="text" id="search-bar-input" class="bb-search-bar-input" placeholder="Search for beer name" onfocus="this.placeholder = \'\'" onblur="this.placeholder = \'Search for beer name\'">\n        <div id="favorites-list" class="bb-favorites-list hide-item">Favorites List</div>\n        <div id="favorites-subtitle" class="bb-favorites-subtitle hide-item">To add or remove items from your favorites list, please click on the star.</div>'}});customElements.define("bb-item-element",class extends HTMLElement{constructor(){super(),document.addEventListener("bb-item-element",this.handle_mbox_message.bind(this),!0)}connectedCallback(){this.innerHTML=this.html_constructor(),this.item_id=this.getAttribute("id"),this.item_name=this.getAttribute("name"),this.item_tagline=this.getAttribute("tagline"),this.item_food_pairing=this.getAttribute("food-pairing"),this.item_image=this.getAttribute("image-url"),this.item_ibu=this.getAttribute("ibu"),this.item_abv=this.getAttribute("abv"),this.item_ebc=this.getAttribute("ebc"),this.check_if_favorite(),this.querySelector("#element-photo").setAttributeNS("http://www.w3.org/1999/xlink","href",this.item_image),this.querySelector("#element-name").innerHTML=this.item_name,this.querySelector("#element-tagline").innerHTML=this.item_tagline,this.querySelector("#element-favorite-button").addEventListener("pointerdown",t=>this.favorite_button_clicked()),this.addEventListener("pointerdown",t=>this.element_clicked())}handle_mbox_message(t){t.detail.item_id===this.item_id&&this.process_message(t)}process_message(t){switch(t.detail.action){case"added-to-favorites":this.querySelector("#svg-star").classList.remove("bb-svg-star"),this.querySelector("#svg-star").classList.add("bb-svg-star-selected");break;case"removed-from-favorites":this.querySelector("#svg-star").classList.remove("bb-svg-star-selected"),this.querySelector("#svg-star").classList.add("bb-svg-star")}}check_if_favorite(){localStorage.getItem(this.item_id)&&(this.querySelector("#svg-star").classList.remove("bb-svg-star"),this.querySelector("#svg-star").classList.add("bb-svg-star-selected"))}element_clicked(){}favorite_button_clicked(){localStorage.getItem(this.item_id)?(localStorage.removeItem(this.item_id),this.querySelector("#svg-star").classList.remove("bb-svg-star-selected"),this.querySelector("#svg-star").classList.add("bb-svg-star"),this.dispatchEvent(new CustomEvent("bb-item-element",{detail:{item_id:this.item_id,action:"removed-from-favorites"},bubble:!0,composed:!0}))):(localStorage.setItem(this.item_id,this.item_id),this.querySelector("#svg-star").classList.remove("bb-svg-star"),this.querySelector("#svg-star").classList.add("bb-svg-star-selected"),this.dispatchEvent(new CustomEvent("bb-item-element",{detail:{item_id:this.item_id,action:"added-to-favorites"},bubble:!0,composed:!0}))),this.dispatchEvent(new CustomEvent("bb-favorite-refresh",{detail:{action:"refresh-favorite-list"},bubble:!0,composed:!0}))}html_constructor(){return`\n        ${this.html_favorite_button()}\n        <div class="bb-element-container">\n        ${this.html_element_photo()}\n        ${this.html_element_name()}\n        ${this.html_element_tagline()}\n        </div>`}html_favorite_button(){return'<div id="element-favorite-button" class="bb-element-favorite-button"><svg id="svg-star" class="bb-svg-star" width="210mm" height="297mm" version="1.1" viewBox="0 0 210 297" xmlns="http://www.w3.org/2000/svg">\n        <path transform="rotate(.81368 -1152.9 3834)" d="m83.602 94.594-25.582-12.986-25.2 13.712 4.4448-28.343-20.829-19.73 28.329-4.5313 12.328-25.906 13.064 25.543 28.447 3.7189-20.255 20.317z"/>\n       </svg></div>\n        '}html_element_photo(){return'<div class="list-element-photo-container">\n        <svg class="svg-photo-display" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <image id="element-photo" class="submit-form-photo-display" width="100%" height="100%"/>\n        </svg>\n        </div>'}html_element_name(){return'<div id="element-name" class="bb-element-name"></div>\n        '}html_element_tagline(){return'<div id="element-tagline" class="bb-element-tagline"></div>'}});class t extends HTMLElement{constructor(){super(),document.addEventListener("bb-search-input",this.handle_mbox_message.bind(this),!0),document.addEventListener("bb-favorite-button",this.handle_mbox_message.bind(this),!0),this.page_count=1,this.search_mode=!1,this.display_status="showing"}connectedCallback(){this.innerHTML=this.html_constructor(),this.list_elements=this.querySelector("#list-elements"),this.addEventListener("scroll",t=>this.load_more()),this.get_initial_list_of_20_items()}handle_mbox_message(t){switch(t.detail.action){case"search":this.handle_search_action(t);break;case"favorite-button-clicked":this.handle_favorite_button_clicked()}}handle_favorite_button_clicked(){"showing"===this.display_status?(this.hide_element(),this.display_status="hidden"):(this.show_element(),this.display_status="showing")}hide_element(){this.classList.remove("show-item"),this.classList.add("hide-item")}show_element(){this.classList.remove("hide-item"),this.classList.add("show-item")}handle_search_action(t){""!==t.detail.input_value?(this.search_mode=!0,fetch(`https://api.punkapi.com/v2/beers?beer_name=${t.detail.input_value.toString().toLowerCase().split(" ").join("_")}`).then(function(t){return t.json()}).then(function(t){this.clear_the_list(),this.populate_list(t)}.bind(this))):(this.search_mode=!1,this.clear_the_list(),this.get_initial_list_of_20_items())}get_initial_list_of_20_items(){fetch(`https://api.punkapi.com/v2/beers?page=${this.page_count}&per_page=20`).then(function(t){return t.json()}).then(function(t){this.populate_list(t)}.bind(this))}load_more(){!this.search_mode&&Math.round(this.scrollTop+this.clientHeight)>=Math.round(this.scrollHeight)&&this.get_20_more_items()}get_20_more_items(){this.page_count++,fetch(`https://api.punkapi.com/v2/beers?page=${this.page_count}&per_page=20`).then(function(t){return t.json()}).then(function(t){this.populate_list(t)}.bind(this))}clear_the_list(){this.list_elements.innerHTML=""}populate_list(t){t.forEach(t=>{let e=document.createElement("bb-item-element");e.setAttribute("id",t.id),e.setAttribute("name",t.name),e.setAttribute("tagline",t.tagline),e.setAttribute("food-pairing",t.food_pairing),e.setAttribute("image-url",t.image_url),e.setAttribute("ibu",t.ibu),e.setAttribute("abv",t.abv),e.setAttribute("ebc",t.ebc),this.list_elements.appendChild(e)})}html_constructor(){return'<div id="list-container" class="bb-list-container">\n        <div id="list-elements" class="bb-list-elements">\n        </div>\n        </div>'}}customElements.define("bb-main-list-container",t);customElements.define("bb-favorites-list",class extends t{constructor(){super(),document.addEventListener("bb-favorite-refresh",this.handle_mbox_message.bind(this),!0)}connectedCallback(){this.innerHTML=this.html_constructor(),this.list_elements=this.querySelector("#list-elements"),this.display_status="hidden",this.hide_element()}handle_mbox_message(t){switch(t.detail.action){case"refresh-favorite-list":"hidden"!==this.display_status&&this.list_favorites();break;case"favorite-button-clicked":this.handle_favorite_button_clicked()}}handle_favorite_button_clicked(){"showing"===this.display_status?(this.hide_element(),this.display_status="hidden"):(this.show_element(),this.list_favorites(),this.display_status="showing")}list_favorites(){if(this.item_ids_list="",0===localStorage.length){let t=document.createElement("div");t.innerHTML="The are no favorites at the moment.",t.setAttribute("class","no-favorites-text"),this.clear_the_list(),this.querySelector("#list-elements").appendChild(t)}else{for(let t=0,e=localStorage.length;t<e;++t)this.item_ids_list+=localStorage.getItem(localStorage.key(t))+"|";fetch(`https://api.punkapi.com/v2/beers?ids=${this.item_ids_list.slice(0,-1)}`).then(function(t){return t.json()}).then(function(t){this.clear_the_list(),this.populate_list(t)}.bind(this))}}html_constructor(){return'<div id="list-container" class="bb-list-container">\n        <div id="list-elements" class="bb-list-elements">\n        </div>\n        </div>'}});customElements.define("bear-bank-main",class extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML=this.html_constructor()}html_constructor(){return"<bb-main-header></bb-main-header>\n        <bb-main-list-container></bb-main-list-container>\n        <bb-favorites-list></bb-favorites-list>"}})}();
